{"version":3,"sources":["../../API/controllers/menuControllers.js"],"names":["validateMenu","menu","schema","name","Joi","string","min","required","Description","price","number","quantity","validate","MenusModel","MenuController","req","res","amenu","getMenu","undefined","length","status","send","message","body","error","details","newmenu","createMenu","trim"],"mappings":";;;;;;;AAAA;;AACA;;;;;;;;;;AAEA,SAASA,YAAT,CAAsBC,IAAtB,EAA4B;AAC1B,MAAMC,MAAM,GAAG;AACbC,IAAAA,IAAI,EAAEC,aAAIC,MAAJ,GAAaC,GAAb,CAAiB,CAAjB,EAAoBC,QAApB,EADO;AAEbC,IAAAA,WAAW,EAAEJ,aAAIC,MAAJ,GAAaC,GAAb,CAAiB,CAAjB,EAAoBC,QAApB,EAFA;AAGbE,IAAAA,KAAK,EAAEL,aAAIM,MAAJ,GAAaH,QAAb,GAAwBA,QAAxB,EAHM;AAIbI,IAAAA,QAAQ,EAAEP,aAAIC,MAAJ,GAAaE,QAAb;AAJG,GAAf;AAOA,SAAOH,aAAIQ,QAAJ,CAAaX,IAAb,EAAmBC,MAAnB,CAAP;AACD;;AAED,IAAMD,IAAI,GAAG,IAAIY,kBAAJ,EAAb;;IACqBC,c;;;;;;;;;;AACnB;;;;;;+BAMkBC,G,EAAKC,G,EAAK;AAC1B,UAAMC,KAAK,GAAGhB,IAAI,CAACiB,OAAL,EAAd;;AACA,UAAID,KAAK,KAAKE,SAAV,IAAuBF,KAAK,CAACG,MAAN,KAAiB,CAA5C,EAA+C;AAC7C,eAAOJ,GAAG,CAACK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,UAAAA,OAAO,EAAE;AAAX,SAArB,CAAP;AACD;;AACD,aAAOP,GAAG,CAACK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBL,KAArB,CAAP;AACD;AAED;;;;;;;;;+BAMkBF,G,EAAKC,G,EAAK;AAAA,0BACRhB,YAAY,CAACe,GAAG,CAACS,IAAL,CADJ;AAAA,UAClBC,KADkB,iBAClBA,KADkB;;AAE1B,UAAIA,KAAJ,EAAW,OAAOT,GAAG,CAACK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBG,KAAK,CAACC,OAAN,CAAc,CAAd,EAAiBH,OAAtC,CAAP;AAEX,UAAMI,OAAO,GAAG1B,IAAI,CAAC2B,UAAL,CAAgBb,GAAG,CAACS,IAApB,CAAhB;AACAG,MAAAA,OAAO,CAACxB,IAAR,GAAeY,GAAG,CAACS,IAAJ,CAASrB,IAAT,CAAc0B,IAAd,EAAf;AACAF,MAAAA,OAAO,CAACnB,WAAR,GAAsBO,GAAG,CAACS,IAAJ,CAAShB,WAA/B;AACAmB,MAAAA,OAAO,CAAClB,KAAR,GAAgBM,GAAG,CAACS,IAAJ,CAASf,KAAzB;AACAkB,MAAAA,OAAO,CAAChB,QAAR,GAAmBI,GAAG,CAACS,IAAJ,CAASb,QAA5B;AAEA,aAAOK,GAAG,CAACK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBK,OAArB,CAAP;AACD","sourcesContent":["import Joi from 'joi';\r\nimport MenusModel from '../models/menuModel';\r\n\r\nfunction validateMenu(menu) {\r\n  const schema = {\r\n    name: Joi.string().min(2).required(),\r\n    Description: Joi.string().min(5).required(),\r\n    price: Joi.number().required().required(),\r\n    quantity: Joi.string().required(),\r\n  };\r\n\r\n  return Joi.validate(menu, schema);\r\n}\r\n\r\nconst menu = new MenusModel();\r\nexport default class MenuController {\r\n  /**\r\n  * Get the day's Menu\r\n  * @param {object} req\r\n  * @param {object} res\r\n  * @return {object} menu\r\n  */\r\n  static getAllMenu(req, res) {\r\n    const amenu = menu.getMenu();\r\n    if (amenu === undefined || amenu.length === 0) {\r\n      return res.status(204).send({ message: 'No Menu for today' });\r\n    }\r\n    return res.status(200).send(amenu);\r\n  }\r\n\r\n  /**\r\n   * Create a new menu\r\n   * @param {object} req\r\n   * @param {object} res\r\n   * @return {object} created menu || all inputs are required\r\n   */\r\n  static createMenu(req, res) {\r\n    const { error } = validateMenu(req.body);\r\n    if (error) return res.status(400).send(error.details[0].message);\r\n\r\n    const newmenu = menu.createMenu(req.body);\r\n    newmenu.name = req.body.name.trim();\r\n    newmenu.Description = req.body.Description;\r\n    newmenu.price = req.body.price;\r\n    newmenu.quantity = req.body.quantity;\r\n\r\n    return res.status(201).send(newmenu);\r\n  }\r\n}\r\n"],"file":"menuControllers.js"}